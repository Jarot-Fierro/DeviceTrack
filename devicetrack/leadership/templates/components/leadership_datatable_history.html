{% load static %}
<div class="row">
    <div class="col-md-12">
       <div class="card">
          <div class="card-header">
              <h4 class="card-title">Histórico</h4>
          </div>
          <div class="card-body">
            <div class="table-responsive">
              <table
                id="multi-filter-select"
                class="display table table-striped table-hover"
              >
                <thead>
                  <tr>
                    <th>#</th>
                    <th>ID</th>
                    <th>PosModificación</th>
                    <th>PreModificación</th>
                    <th>F. Creación</th>
                    <th>Usuario Responsable</th>
                    <th>Operación</th>
                  </tr>
                </thead>
                <tbody>
                {% for leadership in object_list %}
                  <tr>
                      <td>{{ forloop.counter }}</td>
                      <td>{{ leadership.id_leadership_history }}</td>
                      <td>
                          <ul>
                              <li>ID: {{ leadership.id_leadership }}</li>
                              <li>Nombre: {{ leadership.new_data.name }}</li>
                              <li>RUT: {{ leadership.new_data.rut }}</li>
                              <li>Correo: {{ leadership.new_data.email }}</li>
                              <li>Cargo: {{ leadership.new_data.boss_position }}</li>
                              <li>Estado:
                                    <strong class="{% if leadership.new_data.status == 'ACTIVE' %}text-success{% else %}text-danger{% endif %}">
                                        {% if leadership.new_data.status == 'ACTIVE' %}Activo{% else %}Inactivo{% endif %}
                                    </strong>
                              </li>
                          </ul>
                      </td>
                      <td>
                          <ul>
                              {% if not leadership.operation == 'create' %}
                                <li>ID: {{ leadership.id_leadership }}</li>
                                <li>Nombre: {{ leadership.old_data.name }}</li>
                                <li>Rut: {{ leadership.old_data.rut }}</li>
                                <li>Correo: {{ leadership.old_data.email }}</li>
                                <li>Cargo: {{ leadership.old_data.boss_position }}</li>
                                <li>Estado:
                                    <strong class="{% if leadership.old_data.status == 'ACTIVE' %}text-success{% else %}text-danger{% endif %}">
                                        {% if leadership.old_data.status == 'ACTIVE' %}Activo{% else %}Inactivo{% endif %}
                                    </strong>
                                </li>
                              {% else %}
                                <li>No hay registros anteriores</li>
                              {% endif %}
                          </ul>
                      </td>
                      <td>{{ leadership.timestamp }}</td>
                      <td>{{ leadership.user_login }}</td>
                      <td class="{% if leadership.operation == 'create' %}text-success{% elif leadership.operation == 'update' %}text-primary{% else %}text-danger{% endif %}">
                          {% if leadership.operation == 'create' %}Creación{% elif leadership.operation == 'update' %}Actualización{% else %}Cambio de estado{% endif %}
                      </td>
                  </tr>
                {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
  </div>


